<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="jquery-3.7.1.min.js"></script>
</head>
<body>
    <script language="javascript">
        $('#btn').on("click", function(){
            let data = {
                "b_no": ["xxxxxxx"] // 사업자번호 "xxxxxxx" 로 조회 시,
            }; 
            let returnType = "XML";
            $.ajax({
            url: `https://api.odcloud.kr/api/nts-businessman/v1/status?serviceKey=${process.env.REACT_APP_ApiKey}&returnType=${returnType}`,  // serviceKey 값을 xxxxxx에 입력
            type: "POST",
            data: JSON.stringify(data), // json 을 string으로 변환하여 전송
            dataType: "JSON",
            contentType: "application/json",
            accept: "application/json",
            success: function(result) {
                console.log(result);
            },
            error: function(result) {
                console.log(result.responseText); //responseText의 에러메세지 확인
            }
            });
        })


        /*
        function code_check(){
            console.log("code_check function");
            // let data = document.frm1.code.value;
            // console.log(data);
            /*
            if(!checkInput_null('frm1','code1,code2,code3')){ frm1.overlap_code_ok.value = "";}
         else{
             document.frm1.code.value = frm1.code1.value + frm1.code2.value + frm1.code3.value;
             var data = {
                 "b_no":[document.frm1.code.value]	
                 
             };*/ 
                    /*
                    $.ajax({
                        url: "https://api.odcloud.kr/api/nts-businessman/v1/status?serviceKey=rXT4iGdrvZj%2Foz4Lpyoqe22LOjTQuRrLZmCjQuhjdRxqt3Rw%2B3oCU74N%2BukqAxe8DSIbd2%2FPzCZ8i6hhzcKaQg%3D%3D",
                        type: "POST",
                        // data: JSON.stringify(data), // json 을 string으로 변환하여 전송
                        dataType: "JSON",
                        traditional: true,
                        contentType: "application/json; charset:UTF-8",
                        accept: "application/json",
                        success: function(result) {
                            console.log(result);
                            if(result.match_cnt == "1") {
                             //성공
                                console.log("success");
                                 document.frm1.submit();
                            } else {
                             //실패
                                console.log("fail");
                                alert(result.data[0]["tax_type"]);
                            }
                        },
                        error: function(result) {
                            console.log("error");
                            console.log(result.responseText); //responseText의 에러메세지 확인
                        }
                    });
              }
            */
     </script>
     
     <form name="frm1" method="post" action="..">
     <table class="tb_board_1">
         <tr>
             <th scope="row">사업자등록번호</th>
             <td  class="left_5">
                 <div>
                     <input type="text" name="code1" value="" size="3" alt="사업자등록번호1" style="ime-mode:disabled;" maxlength="3">
                     -<input type="text" name="code2" value="" size="2" alt="사업자등록번호2" style="ime-mode:disabled;" maxlength="2">
                     -<input type="text" name="code3" value="" size="5" alt="사업자등록번호3" style="ime-mode:disabled;" maxlength="5">
                 </div>
                 <span style="cursor:hand" id="btn" onclick="onclick()">확인</span>
             </td>
         </tr>
     </table>
     </form>
     <button>데이터 요청</button>


    
</body>
</html>